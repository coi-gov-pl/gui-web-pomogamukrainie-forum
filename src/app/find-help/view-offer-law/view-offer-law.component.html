<app-breadcrumb></app-breadcrumb>

<div class="d-flex flex-column flex-md-row" *ngIf="data">
  <mat-card class="offer p-4 w-100 w-md-50 d-flex flex-column">
    <div class="d-flex mb-3">
      <div class="modification-date">
        {{ "MODIFICATION_DATE" | translate }}: {{ data.modifiedDate | date: "dd/MM/yyyy" }}
      </div>
      <div class="ml-auto">
        <a role="buton" class="copy-url d-block" (click)="copyUrl()">
          <mat-icon class="yellow-icon" fontSet="material-icons-outlined yellow">copy</mat-icon>
          <span class="text ms-1">{{ "COPY_LINK" | translate }}</span>
        </a>
      </div>
    </div>
    <h3>{{ data.title }}</h3>
    <div class="row mt-4">
      <div class="attribute col-6 col-lg-4">
        <div class="attribute-name fw-bold">{{ "LOCATION" | translate }}</div>
        <div class="d-flex">
          <mat-icon class="yellow-icon --smaill-size" fontSet="material-icons-outlined">place</mat-icon>
          <span class="attribute-value ms-1 text-capitalize">{{ data.location?.city }}</span>
        </div>
      </div>
      <div class="attribute col-6 col-lg-4">
        <div class="attribute-name fw-bold">{{ "LABEL_HELP_KIND" | translate }}</div>
        <div class="d-flex">
          <mat-icon class="yellow-icon --smaill-size" fontSet="material-icons-outlined">gavel</mat-icon>
          <span class="attribute-value ms-1">
            <ng-container *ngFor="let kind of data.helpKind; let last = last">
              {{ kind | translate }}<span *ngIf="!last">, </span>
            </ng-container>
          </span>
        </div>
      </div>
      <div class="attribute col-6 col-lg-4">
        <div class="attribute-name fw-bold">{{ "LANGUAGE" | translate }}</div>
        <div class="d-flex">
          <mat-icon class="yellow-icon --smaill-size" fontSet="material-icons-outlined">translate</mat-icon>
          <span class="attribute-value ms-1">{{ data.language }}</span>
        </div>
      </div>
      <div class="attribute col-6 col-lg-4">
        <div class="attribute-name fw-bold">{{ "LABEL_HELP_MODE" | translate }}</div>
        <div class="d-flex">
          <mat-icon class="yellow-icon --smaill-size" fontSet="material-icons-outlined">corporate_fare</mat-icon>
          <span class="attribute-value ms-1">
            <ng-container *ngFor="let mode of data.helpMode; let last = last">
              {{ mode | translate }}<span *ngIf="!last">, </span>
            </ng-container>
          </span>
        </div>
      </div>
    </div>
    <div class="content my-3 flex-grow-1">
      <label>
        <b>{{ "LABEL_OFFER_DESCRIPTION" | translate }}</b>
      </label>
      <p>{{ data.description }}</p>
    </div>
    <app-back-to-list
      [categoryRouteName]="categoryRouteName"
      [redirectedFromAccount]="redirectedFromAccount"
      [originalAccountQueryParams]="originalAccountQueryParams"
    ></app-back-to-list>
  </mat-card>
  <div class="w-100 w-md-50">
    <app-reply-offer
      [offerId]="offerId"
      [helpersPhoneNumber]="data.phoneNumber"
      [helpersFirstname]="data.userFirstName"
      [descLength]="data.description.length"
    ></app-reply-offer>
  </div>
</div>
